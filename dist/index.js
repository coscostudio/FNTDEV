"use strict";(()=>{var p={triggerMode:"both",timeDelayMs:3e3,sessionKey:"fntPromoModalShown",respectExistingSession:!0},n=typeof window<"u"&&typeof document<"u",r=class{constructor(t){this.isInitialized=!1;this.isOpen=!1;this.timerId=null;this.exitIntentActive=!1;this.closeControlsBound=!1;this.previousFocus=null;this.gsap=null;this.openTimeline=null;this.closeTimeline=null;this.handleCloseControl=t=>{t.preventDefault(),this.close()};this.handleOutsidePointer=t=>{if(!this.isOpen||!this.modalRoot||!this.modalContent)return;let e=t.target;e&&this.modalRoot.contains(e)&&(this.modalContent.contains(e)||this.close())};this.handleKeydown=t=>{this.isOpen&&t.key==="Escape"&&(t.preventDefault(),this.close())};this.handleExitIntent=t=>{this.shouldAutoOpen()&&(t.relatedTarget||t.clientY>0||this.triggerAutoOpen())};if(this.options={...p,...t},!n){this.modalRoot=null,this.modalContent=null,this.closeControls=[];return}this.modalRoot=document.querySelector(".modal_promo"),this.modalContent=this.modalRoot?.querySelector(".modal_promo-component")??null,this.closeControls=this.modalRoot?Array.from(this.modalRoot.querySelectorAll('[data-action="modal-close"]')):[],this.gsap=window.gsap??null,this.modalRoot&&!this.modalRoot.hasAttribute("aria-hidden")&&this.modalRoot.setAttribute("aria-hidden","true")}init(){!this.modalRoot||this.isInitialized||(this.isInitialized=!0,this.attachCloseControlListeners(),this.armTriggers())}open(){!this.modalRoot||this.isOpen||this.shouldRespectSession()&&this.hasSessionFlag()||(this.clearAutoTriggers(),this.isOpen=!0,this.modalRoot.classList.add("is-open"),this.modalRoot.setAttribute("aria-hidden","false"),this.toggleScrollLock(!0),this.enableLiveListeners(),this.trapFocus(),this.setSessionFlag(),this.animateOpen())}close(){if(!(!this.modalRoot||!this.isOpen)){if(this.disableLiveListeners(),this.isOpen=!1,this.gsap&&(this.modalContent||this.modalRoot)){this.animateClose();return}this.finalizeClose()}}attachCloseControlListeners(){this.closeControlsBound||(this.closeControls.forEach(t=>{t.addEventListener("click",this.handleCloseControl)}),this.closeControlsBound=!0)}armTriggers(){this.modalRoot&&(this.clearAutoTriggers(),this.options.triggerMode!=="off"&&(this.shouldRespectSession()&&this.hasSessionFlag()||((this.options.triggerMode==="time"||this.options.triggerMode==="both")&&(this.timerId=window.setTimeout(()=>{this.triggerAutoOpen()},Math.max(0,this.options.timeDelayMs))),(this.options.triggerMode==="exit"||this.options.triggerMode==="both")&&this.attachExitIntent())))}triggerAutoOpen(){this.clearAutoTriggers(),this.open()}enableLiveListeners(){this.modalRoot&&(this.modalRoot.addEventListener("pointerdown",this.handleOutsidePointer),document.addEventListener("keydown",this.handleKeydown))}disableLiveListeners(){this.modalRoot&&(this.modalRoot.removeEventListener("pointerdown",this.handleOutsidePointer),document.removeEventListener("keydown",this.handleKeydown))}trapFocus(){this.modalRoot&&(this.previousFocus=document.activeElement??null)}releaseFocus(){this.previousFocus&&this.safeFocus(this.previousFocus),this.previousFocus=null}safeFocus(t){if(t)try{t.focus({preventScroll:!0})}catch{t.focus()}}toggleScrollLock(t){let e=document.documentElement,{body:i}=document;!e||!i||(t?(e.classList.add("modal-open"),i.classList.add("modal-open")):(e.classList.remove("modal-open"),i.classList.remove("modal-open")))}finalizeClose(){this.modalRoot&&(this.modalRoot.classList.remove("is-open"),this.modalRoot.setAttribute("aria-hidden","true"),this.toggleScrollLock(!1),this.releaseFocus())}clearAutoTriggers(){this.timerId!==null&&(window.clearTimeout(this.timerId),this.timerId=null),this.detachExitIntent()}attachExitIntent(){this.exitIntentActive||this.isTouchDevice()||(document.addEventListener("mouseout",this.handleExitIntent),this.exitIntentActive=!0)}detachExitIntent(){this.exitIntentActive&&(document.removeEventListener("mouseout",this.handleExitIntent),this.exitIntentActive=!1)}shouldAutoOpen(){return!(!this.modalRoot||this.options.triggerMode==="off"||this.shouldRespectSession()&&this.hasSessionFlag())}hasSessionFlag(){if(!n)return!1;try{return window.sessionStorage.getItem(this.options.sessionKey)==="true"}catch{return!1}}setSessionFlag(){if(n)try{window.sessionStorage.setItem(this.options.sessionKey,"true")}catch{}}shouldRespectSession(){return this.options.respectExistingSession!==!1}isTouchDevice(){if(!n)return!1;let t=window.navigator;return"ontouchstart"in window||t&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>0}animateOpen(){if(!this.gsap||!this.modalRoot)return;this.closeTimeline?.kill(),this.closeTimeline=null,this.gsap.set(this.modalRoot,{autoAlpha:0}),this.modalContent&&this.gsap.set(this.modalContent,{autoAlpha:0,y:32,scale:.95}),this.openTimeline?.kill();let t=this.gsap.timeline({defaults:{ease:"power2.out"},onComplete:()=>{this.openTimeline=null,this.gsap?.set(this.modalRoot,{clearProps:"opacity,visibility"}),this.modalContent&&this.gsap?.set(this.modalContent,{clearProps:"transform,opacity"})}});t.to(this.modalRoot,{autoAlpha:1,duration:.25,ease:"power1.out"}),this.modalContent&&t.to(this.modalContent,{autoAlpha:1,y:0,scale:1,duration:.5,ease:"power3.out"},"-=0.1"),this.openTimeline=t}animateClose(){if(!this.gsap||!this.modalRoot){this.finalizeClose();return}this.openTimeline?.kill(),this.openTimeline=null,this.closeTimeline?.kill();let t=this.modalContent??this.modalRoot,e=this.gsap.timeline({defaults:{ease:"power2.in"},onComplete:()=>{this.closeTimeline=null,this.gsap?.set(this.modalRoot,{clearProps:"opacity,visibility"}),this.modalContent&&this.gsap?.set(this.modalContent,{clearProps:"transform,opacity"}),this.finalizeClose()}});this.modalContent?(e.to(t,{autoAlpha:0,y:24,scale:.95,duration:.3}),e.to(this.modalRoot,{autoAlpha:0,duration:.25,ease:"power1.in"},"-=0.15")):e.to(this.modalRoot,{autoAlpha:0,duration:.25}),this.closeTimeline=e}};function m(o,t,e=!1){let i=document.querySelectorAll(o);i.length&&i.forEach((a,l)=>{let d=`${o.replace(".","")}-${l}`;a.setAttribute("id",d);let s=new Splide(a,{...t});s.on("mounted",()=>{s.Components.Elements.slides.forEach((u,h)=>{u.addEventListener("click",()=>{s.go(h)})})}),e&&window.splide?.Extensions?s.mount(window.splide.Extensions):s.mount()})}function c(){let o=window.gsap;if(!o)return;let t=document.querySelectorAll(".wrapper_cards");t.length&&t.forEach((e,i)=>{e.dataset.gsapAnimated!=="true"&&(e.dataset.gsapAnimated="true",o.set(e,{autoAlpha:0,y:24}),o.to(e,{autoAlpha:1,y:0,duration:.6,ease:"power3.out",delay:.1*i}))})}document.addEventListener("DOMContentLoaded",()=>{let o=new r({triggerMode:"both",timeDelayMs:3e3,sessionKey:"fntPromoModalShown",respectExistingSession:!0});o.init(),window.fntPromo=o,[{selector:".slider1",options:{type:"loop",autoWidth:!0,gap:"4rem",drag:"free",focus:"left",arrows:!1,pagination:!1,keyboard:!1,autoScroll:{autoStart:!0,speed:.5,pauseOnHover:!1}},useAutoScroll:!0},{selector:".slider-fnt",options:{type:"loop",autoWidth:!0,gap:"1rem",drag:"free",focus:"left",arrows:!1,pagination:!1,keyboard:!1,autoScroll:{autoStart:!0,speed:.75,pauseOnHover:!1}},useAutoScroll:!0},{selector:".product-slider",options:{autoWidth:!0,perMove:1,gap:"0rem",arrows:!0,pagination:!1,drag:!0,type:"slide",focus:"left",snap:!0},useAutoScroll:!1}].forEach(e=>{m(e.selector,e.options,e.useAutoScroll)}),c()});})();
